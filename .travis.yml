sudo: required

services:
  - docker

before_install:
  - env | sort
  # The following triggers the Jenkis build. Shahim is managing this.
  - > 
      curl -X 
      POST "https://monarch-jenkins.cgrb.oregonstate.edu/job/test-mondo/build" 
      -H "Jenkins-Crumb:${ShahimCSRFCrumb}" 
      --user "essaids:${ShahimAPIToken}" 
      --form json='{
      "parameter": [
         {"name":"Hello", "value":"WorldParameterValue2"},
       ]}'
  - docker pull obolibrary/odkfull

before_script:
  - cd src/ontology

script:
  - ./run.sh make monarch-jenkins

# whitelist
branches:
  only:
    - master
    - test-travis
    - jenkins-setup

### UNCOMMENT THIS AND ADD YOUR DETAILS:
#notifications:
#  email:
#    - YOURNAME@YOU.ORG
